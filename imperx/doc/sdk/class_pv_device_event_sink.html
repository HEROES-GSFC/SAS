<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
		<title>eBUS SDK C++ API: PvDeviceEventSink Class Reference</title>
		<link href="doxygen.css" rel="stylesheet" type="text/css">
		<link href="tabs.css" rel="stylesheet" type="text/css">
	</head>
	<body>

	<div class="contents">
		<div class="textblock">
			<h2><a href="http://www.pleora.com" target="_blank"><img src="logo.jpg" alt="Pleora Technologies Inc." align="middle" border="0"></a>
			eBUS SDK v3.0.4.2568 C++ API</h2>
		</div>
	</div>
		
		<br>
		<br>

	</body>
	
</html>


<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PvDeviceEventSink Class Reference</h1><!-- doxytag: class="PvDeviceEventSink" -->
<p>Observer interface for an observable <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object.  
<a href="#_details">More...</a></p>

<p><a href="class_pv_device_event_sink-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#a5df5e3d4bd3869d2e6b0e92a7d47bfe4">OnCmdLinkRead</a> (const void *aBuffer, PvInt64 aAddress, PvInt64 aLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback invoked after a port read.  <a href="#a5df5e3d4bd3869d2e6b0e92a7d47bfe4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#ab7e360e2afddbcb24736ffb555f7d95c">OnCmdLinkWrite</a> (const void *aBuffer, PvInt64 aAddress, PvInt64 aLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback invoked after a port write.  <a href="#ab7e360e2afddbcb24736ffb555f7d95c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#a6b815f0a1896c6866dfb19b15064aa2b">OnEvent</a> (<a class="el" href="class_pv_device.html">PvDevice</a> *aDevice, PvUInt16 aEventID, PvUInt16 aChannel, PvUInt64 aBlockID, PvUInt64 aTimestamp, const void *aData, PvUInt32 aDataLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Messaging channel event notification.  <a href="#a6b815f0a1896c6866dfb19b15064aa2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#ad61de97d09dc3cd5c8b813b19c887bdc">OnLinkDisconnected</a> (<a class="el" href="class_pv_device.html">PvDevice</a> *aDevice)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notification that the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> unexpectedly lost contact with the GigE Vision device.  <a href="#ad61de97d09dc3cd5c8b813b19c887bdc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#a6e529c104d12672a7caa270b18c6be65">OnLinkReconnected</a> (<a class="el" href="class_pv_device.html">PvDevice</a> *aDevice)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback that is invoked just after <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> automatically reconnects with the GigE Vision device.  <a href="#a6e529c104d12672a7caa270b18c6be65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#a5b94b91aae905a4508edec3d4276851f">PvDeviceEventSink</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a5b94b91aae905a4508edec3d4276851f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_event_sink.html#a76c796258a12dc125076b4a0b20b8945">~PvDeviceEventSink</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#a76c796258a12dc125076b4a0b20b8945"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Observer interface for an observable <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object. </p>
<p><a class="el" href="class_pv_device_event_sink.html" title="Observer interface for an observable PvDevice object.">PvDeviceEventSink</a> defines a set of callback methods from a <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object to any object implementing this interface.</p>
<h2>Recovery</h2>
<p>A <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object continually sends a heartbeat message every <a href="devicecommunicationparameters.html#HeartbeatInterval">HeartbeatInterval</a> milliseconds to the connected GigE Vision device to maintain its control channel privilege and ensure that the two entities are aware of each other's continued existence. If the device fails to receive a heartbeat message after a given period of time (see the GevHeartbeatTimeout GigE Vision parameter and <a href="devicecommunicationparameters.html#DefaultHeartbeatTimeout">DefaultHeartbeatTimeout</a>), it loses its control channel privilege so that another controller may connect to the device in the event of a connection loss. Each heartbeat sent by the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object is acknowledged by the device. If the device fails to respond to the heartbeat (within <a href="devicecommunicationparameters.html#AnswerTimeout">AnswerTimeout</a> milliseconds) after <a href="devicecommunicationparameters.html#CommandRetryCount">CommandRetryCount</a> retries, it considers itself disconnected and notifies any registered <a class="el" href="class_pv_device_event_sink.html" title="Observer interface for an observable PvDevice object.">PvDeviceEventSink</a> objects using the <a class="el" href="class_pv_device_event_sink.html#ad61de97d09dc3cd5c8b813b19c887bdc" title="Notification that the PvDevice unexpectedly lost contact with the GigE Vision device...">OnLinkDisconnected</a> callback.</p>
<p>If the <a href="devicecommunicationparameters.html#LinkRecoveryEnabled">LinkRecoveryEnabled</a> property is set to true, the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object will attempt to reconnect to the device every <a href="devicecommunicationparameters.html#HeartbeatInterval">HeartbeatInterval</a> milliseconds. If it succeeds at re-connecting, any registered <a class="el" href="class_pv_device_event_sink.html" title="Observer interface for an observable PvDevice object.">PvDeviceEventSink</a> objects are notified using the <a class="el" href="class_pv_device_event_sink.html#a6e529c104d12672a7caa270b18c6be65" title="Callback that is invoked just after PvDevice automatically reconnects with the GigE...">OnLinkReconnected</a> callback.</p>
<p>For a complete working example of how to initiate recovery and continue streaming in the event of a connection loss, refer to PvRecoverySample.</p>
<h2>Messaging channel events</h2>
<p><b>To receive raw events notifications:</b></p>
<ol type="1">
<li>Create an instance of your MySink class.</li>
<li>Connect to the GigE Vision device as you normally would. See <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a>.</li>
<li>Register your MySink class with the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> object. Use <a class="el" href="class_pv_device.html#a25a4745e8d3226a1dacf63c4565dca69" title="Register an event sink used for callbacks.">PvDevice::RegisterEventSink</a>.</li>
<li>Control the GigE Vision device as you normally would. See <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a>.</li>
<li>Handle events when <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> calls your <a class="el" href="class_pv_device_event_sink.html#a6b815f0a1896c6866dfb19b15064aa2b" title="Messaging channel event notification.">OnEvent</a> overriden method. </li>
</ol>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5b94b91aae905a4508edec3d4276851f"></a><!-- doxytag: member="PvDeviceEventSink::PvDeviceEventSink" ref="a5b94b91aae905a4508edec3d4276851f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PvDeviceEventSink::PvDeviceEventSink </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<a class="anchor" id="a76c796258a12dc125076b4a0b20b8945"></a><!-- doxytag: member="PvDeviceEventSink::~PvDeviceEventSink" ref="a76c796258a12dc125076b4a0b20b8945" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PvDeviceEventSink::~PvDeviceEventSink </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5df5e3d4bd3869d2e6b0e92a7d47bfe4"></a><!-- doxytag: member="PvDeviceEventSink::OnCmdLinkRead" ref="a5df5e3d4bd3869d2e6b0e92a7d47bfe4" args="(const void *aBuffer, PvInt64 aAddress, PvInt64 aLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PvDeviceEventSink::OnCmdLinkRead </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvInt64&nbsp;</td>
          <td class="paramname"> <em>aAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvInt64&nbsp;</td>
          <td class="paramname"> <em>aLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Callback invoked after a port read. </p>
<p>Used to report read activity on the GenApi IPort implementation of the GVCP command link of the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a>.</p>
<p>The callback is invoked AFTER the read operation so the content of aBuffer contains the data that was read from the device.</p>
<p>This callback is only invoked on a successful read operation.</p>
<p>If aLength is 4 bytes, that data is represented as a 4 bytes value formatted as big endian. If data is more that 4 bytes, it is presented as a stream of bytes requiring proper interpretation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aBuffer</em>&nbsp;</td><td>Pointer to the data read. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aAddress</em>&nbsp;</td><td>Address of the data read on the device. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aLength</em>&nbsp;</td><td>Length of the data, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab7e360e2afddbcb24736ffb555f7d95c"></a><!-- doxytag: member="PvDeviceEventSink::OnCmdLinkWrite" ref="ab7e360e2afddbcb24736ffb555f7d95c" args="(const void *aBuffer, PvInt64 aAddress, PvInt64 aLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PvDeviceEventSink::OnCmdLinkWrite </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvInt64&nbsp;</td>
          <td class="paramname"> <em>aAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvInt64&nbsp;</td>
          <td class="paramname"> <em>aLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Callback invoked after a port write. </p>
<p>Used to report write activity on the GenApi IPort implementation of the GVCP command link of the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a>.</p>
<p>The callback is invoked AFTER the write operation. The content of aBuffer represents the data that was written to the device.</p>
<p>This callback is only invoked on a successful read operation.</p>
<p>If aLength is 4 bytes, that data is represented as a 4 bytes value formatted as big endian. If data is more that 4 bytes, it is presented as a stream of bytes requiring proper interpretation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aBuffer</em>&nbsp;</td><td>Pointer to the data that was written. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aAddress</em>&nbsp;</td><td>Address of the data written to the device. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aLength</em>&nbsp;</td><td>Length of the data, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6b815f0a1896c6866dfb19b15064aa2b"></a><!-- doxytag: member="PvDeviceEventSink::OnEvent" ref="a6b815f0a1896c6866dfb19b15064aa2b" args="(PvDevice *aDevice, PvUInt16 aEventID, PvUInt16 aChannel, PvUInt64 aBlockID, PvUInt64 aTimestamp, const void *aData, PvUInt32 aDataLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PvDeviceEventSink::OnEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_pv_device.html">PvDevice</a> *&nbsp;</td>
          <td class="paramname"> <em>aDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvUInt16&nbsp;</td>
          <td class="paramname"> <em>aEventID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvUInt16&nbsp;</td>
          <td class="paramname"> <em>aChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvUInt64&nbsp;</td>
          <td class="paramname"> <em>aBlockID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvUInt64&nbsp;</td>
          <td class="paramname"> <em>aTimestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>aData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PvUInt32&nbsp;</td>
          <td class="paramname"> <em>aDataLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Messaging channel event notification. </p>
<p>The <a class="el" href="class_pv_device_event_sink.html#a6b815f0a1896c6866dfb19b15064aa2b" title="Messaging channel event notification.">OnEvent</a> handler lets users access the raw GigE Vision event before it is forwarded to the GenICam layer.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This callback is an advanced feature that should only be used by developers who are aware of the event IDs that are being sent from their GigE Vision device. To receive notification when a camera feature changes, refer to <a class="el" href="class_pv_gen_parameter.html#a3eb2e85b9659e037e6a015cc9a539fcb" title="Register an event sink interface that will be used for callbacks on this parameter...">PvGenParameter::RegisterEventSink</a>.</dd></dl>
<p>Depending on the nature of the event being received, there may be data returned that is pointed to by aData (otherwise aData is NULL). This additional data is received on the wire in the device's endianess.</p>
<p>All other parameters are provided in the endianess of the host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aDevice</em>&nbsp;</td><td>Pointer to the device object that invoked this callback. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aEventID</em>&nbsp;</td><td>Event ID of the messaging channel event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aChannel</em>&nbsp;</td><td>Messaging channel on which the event occured. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aBlockID</em>&nbsp;</td><td>Bock ID of the messaging channel event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aTimestamp</em>&nbsp;</td><td>Timestamp of the messaging channel event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aData</em>&nbsp;</td><td>Pointer to Event Data, if applicable. NULL otherwise. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aDataLength</em>&nbsp;</td><td>Data length, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad61de97d09dc3cd5c8b813b19c887bdc"></a><!-- doxytag: member="PvDeviceEventSink::OnLinkDisconnected" ref="ad61de97d09dc3cd5c8b813b19c887bdc" args="(PvDevice *aDevice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PvDeviceEventSink::OnLinkDisconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_pv_device.html">PvDevice</a> *&nbsp;</td>
          <td class="paramname"> <em>aDevice</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notification that the <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> unexpectedly lost contact with the GigE Vision device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aDevice</em>&nbsp;</td><td>Pointer to the device object that invoked this callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6e529c104d12672a7caa270b18c6be65"></a><!-- doxytag: member="PvDeviceEventSink::OnLinkReconnected" ref="a6e529c104d12672a7caa270b18c6be65" args="(PvDevice *aDevice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PvDeviceEventSink::OnLinkReconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_pv_device.html">PvDevice</a> *&nbsp;</td>
          <td class="paramname"> <em>aDevice</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Callback that is invoked just after <a class="el" href="class_pv_device.html" title="Connect, configure and control a GigE Vision device.">PvDevice</a> automatically reconnects with the GigE Vision device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aDevice</em>&nbsp;</td><td>Pointer to the device object that invoked this callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1">
<P><B>Copyright (c) 2002-2012 Pleora Technologies Inc.</B><BR>
<a href="http://www.pleora.com" target="_blank">www.pleora.com</a></P>
</body>
</html>

